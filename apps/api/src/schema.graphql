"""
A remote job posting with AI-generated fit score
"""
type Job {
  "Unique identifier for the job"
  id: ID!
  "Job title"
  title: String!
  "Company name"
  company: String!
  "Job location (if specified)"
  location: String
  "Minimum salary in USD"
  salaryMin: Int
  "Maximum salary in USD"
  salaryMax: Int
  "AI-calculated fit score from 0-100 based on skills match"
  fitScore: Float!
  "Direct URL to the job posting"
  url: String!
  "When the job was originally published (ISO date string)"
  publishedAt: String!
  "Whether the current user has bookmarked this job"
  bookmarked: Boolean! # calculated per-user
}

type Query {
  """
  Get remote job listings with optional filtering
  """
  jobs(
    "Minimum fit score (0-100) to filter jobs"
    minFit: Float = 0
    "Search term to match against job title or description"
    search: String
    "Minimum salary in USD"
    minSalary: Int
    "Location filter (partial match, case insensitive)"
    location: String
    "Maximum number of jobs to return"
    first: Int = 50
  ): [Job!]!
}

type Mutation {
  """
  Bookmark or unbookmark a job for the authenticated user
  """
  bookmark("Job ID to bookmark" id: ID!): Boolean!
}

type Subscription {
  """
  Subscribe to new jobs that meet the minimum fit score criteria
  """
  newJob(
    "Only notify for jobs with fit score >= this value"
    minFit: Float = 70
  ): Job!
}
