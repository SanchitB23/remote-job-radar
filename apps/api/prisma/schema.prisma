datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL") // point to the same DB as aggregator
}

generator client {
  provider = "prisma-client-js"
}

model job {
  id           String                 @id
  source       String
  title        String
  company      String
  description  String                 @db.Text
  location     String?
  salary_min   Int?
  salary_max   Int?
  url          String
  published_at DateTime
  vector       Unsupported("vector")?
  fit_score    Float?
  bookmarks    bookmark[]

  @@map("jobs")
}

model bookmark {
  id      String @id @default(uuid())
  job_id  String
  user_id String
  job     job    @relation(fields: [job_id], references: [id])

  @@unique([user_id, job_id])
  @@index([user_id])
  @@map("bookmarks")
}
