# =========================================
# Remote Job Radar - Environment Configuration
# =========================================
# This is the main environment configuration file for the entire monorepo.
# Copy this file to .env (or .env.local for development) and fill in your values.
# 
# Individual services also have their own .env.example files in their directories.
# See:
# - apps/web/.env.example
# - apps/api/.env.example  
# - services/aggregator/.env.example
# - services/embedder/.env.example

# =========================================
# Environment
# =========================================
NODE_ENV=development
ENV=local

# =========================================
# Service URLs (Development)
# =========================================
# These are used for health checks and inter-service communication
WEB_SERVER_BASE_URL=http://localhost:3000
GRAPHQL_SERVER_BASE_URL=http://localhost:4000
AGGREGATOR_SERVER_BASE_URL=http://localhost:8080
EMBEDDER_SERVER_BASE_URL=http://localhost:8000

# =========================================
# Service URLs (Production)
# =========================================
# Uncomment and modify for production deployment
# WEB_SERVER_BASE_URL=https://yourdomain.com
# GRAPHQL_SERVER_BASE_URL=https://api.yourdomain.com
# AGGREGATOR_SERVER_BASE_URL=https://aggregator.yourdomain.com
# EMBEDDER_SERVER_BASE_URL=https://embedder.yourdomain.com

# =========================================
# Docker Infrastructure
# =========================================
# PostgreSQL Database (used by docker-compose)
POSTGRES_PASSWORD=local
POSTGRES_USER=postgres
POSTGRES_DB=postgres
POSTGRES_PORT=5432

# pgvector Database URL (for all services)
DATABASE_URL=postgresql://postgres:local@localhost:5432/postgres
DB_DSN=host=localhost user=postgres password=local dbname=postgres sslmode=disable

# =========================================
# External Services
# =========================================

# Clerk Authentication (required for web + api)
# Get these from https://clerk.com dashboard
CLERK_SECRET_KEY=your_clerk_secret_key_here
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=your_clerk_publishable_key_here
CLERK_JWT_KID=your_jwt_kid_here
CLERK_JWT_ISSUER=your_jwt_issuer_here
CLERK_JWK_URL=https://your-instance.clerk.accounts.dev/.well-known/jwks.json

# Job Sources (optional)
# Adzuna API (if you want to use Adzuna as a job source)
# ADZUNA_APP_ID=your_adzuna_app_id
# ADZUNA_APP_KEY=your_adzuna_app_key

# =========================================
# CORS Configuration
# =========================================
# Comma-separated list of allowed origins for the GraphQL API
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# For production, include your deployed frontend URL:
# CORS_ORIGIN=https://yourdomain.com,http://localhost:3000

# =========================================
# Optional: Service-specific overrides
# =========================================
# Uncomment to override default ports
# WEB_PORT=3000
# API_PORT=4000
# AGGREGATOR_PORT=8080
# EMBEDDER_PORT=8000

# Aggregator scheduling intervals (optional)
# FETCH_INTERVAL=2h
# SCORE_INTERVAL=4h
# FETCH_TIMEOUT=30s

# Skills configuration file path
SKILLS_FILE=skills.yml
